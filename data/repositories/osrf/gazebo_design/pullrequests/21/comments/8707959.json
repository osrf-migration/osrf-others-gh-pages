{"links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/21/comments/8707959.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_design/diff/osrf/gazebo_design:None..None?path=sim_validation%2Fsim_validation.md"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/21/_/diff#comment-8707959"}}, "parent": {"id": 8706494, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/21/comments/8706494.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/21/_/diff#comment-8706494"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/21.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/21"}}, "title": "Simulation validation tool"}, "content": {"raw": "That sounds good up to the point of computing a diff, which I feel won't be very useful for validation (see Evan's comment above as well). Here are a number of reasons why:\n\n1. Simulation mimics reality up to a point. We currently can't expect the output of simulation to match reality. However, we can expect the high-level behavior (robot takes 5 steps and roughly travels 1meter) to be good.\n\n2. We can't use precise diffs in our integration tests due to differences between computers, drivers, changes to underlying libraries, etc. We can use coarse grained comparisons. Applying the concept of diffs to a more complex system seems prone to error and ambiguities.\n\n3. Evan has gone down the road of validating a robot. It required a precise vicon system, months of setup, a highly controlled environment, a very accurate simulation environment, and a simple robot (a ball with an offset motor). Unless we have this kind of requirement, we probably can't expect diffs to work well.\n\nMay I make a suggestion? We can have three types of validation:\n\n1. Physics validation (box sliding, ball falling, pendulum). In these cases we can assume that the test environment has been equipped with measurement devices, and a metric comparison would be meaningful.\n\n2. Sensor validation. In these cases a user defines a sensor and a comparison function (line detection algorithm, colored blob finder). Depending on the type of sensor and function, a qualitative and/or quantitative comparison can be performed.\n\n3. Robot validation. In these cases a user defines properties the want to compare (distance traveled, robot opens door). A robot model, simulation environment, and robot controller are required. A qualitative comparison between the real world and simulation can be performed.\n\nIt might be worthwhile to discuss and brainstorm about this in person.", "markup": "markdown", "html": "<p>That sounds good up to the point of computing a diff, which I feel won't be very useful for validation (see Evan's comment above as well). Here are a number of reasons why:</p>\n<ol>\n<li>\n<p>Simulation mimics reality up to a point. We currently can't expect the output of simulation to match reality. However, we can expect the high-level behavior (robot takes 5 steps and roughly travels 1meter) to be good.</p>\n</li>\n<li>\n<p>We can't use precise diffs in our integration tests due to differences between computers, drivers, changes to underlying libraries, etc. We can use coarse grained comparisons. Applying the concept of diffs to a more complex system seems prone to error and ambiguities.</p>\n</li>\n<li>\n<p>Evan has gone down the road of validating a robot. It required a precise vicon system, months of setup, a highly controlled environment, a very accurate simulation environment, and a simple robot (a ball with an offset motor). Unless we have this kind of requirement, we probably can't expect diffs to work well.</p>\n</li>\n</ol>\n<p>May I make a suggestion? We can have three types of validation:</p>\n<ol>\n<li>\n<p>Physics validation (box sliding, ball falling, pendulum). In these cases we can assume that the test environment has been equipped with measurement devices, and a metric comparison would be meaningful.</p>\n</li>\n<li>\n<p>Sensor validation. In these cases a user defines a sensor and a comparison function (line detection algorithm, colored blob finder). Depending on the type of sensor and function, a qualitative and/or quantitative comparison can be performed.</p>\n</li>\n<li>\n<p>Robot validation. In these cases a user defines properties the want to compare (distance traveled, robot opens door). A robot model, simulation environment, and robot controller are required. A qualitative comparison between the real world and simulation can be performed.</p>\n</li>\n</ol>\n<p>It might be worthwhile to discuss and brainstorm about this in person.</p>", "type": "rendered"}, "created_on": "2015-07-31T17:24:33.127243+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": null, "outdated": false, "path": "sim_validation/sim_validation.md"}, "updated_on": "2015-07-31T17:24:33.133253+00:00", "type": "pullrequest_comment", "id": 8707959}