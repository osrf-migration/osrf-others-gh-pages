{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30/comments/16053609.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_design/diff/osrf/gazebo_design:222ae9302bcf..f864f029fdd1?path=smart_pointers%2Fsmart_pointers.md"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30/_/diff#comment-16053609"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30"}}, "title": "Smart pointers in Gazebo (physics::World case)"}, "content": {"raw": "how about references?", "markup": "markdown", "html": "<p>how about references?</p>", "type": "rendered"}, "created_on": "2016-03-21T19:06:38.546796+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 113, "from": null, "path": "smart_pointers/smart_pointers.md"}, "updated_on": "2016-03-21T19:06:38.549921+00:00", "type": "pullrequest_comment", "id": 16053609}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30/comments/17074612.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30/_/diff#comment-17074612"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30"}}, "title": "Smart pointers in Gazebo (physics::World case)"}, "content": {"raw": "I just added a document about object lifecycle and ownership based on a discussion I had with @wjwwood \n\nI'm planning to try to draw a diagram of Gazebo's architecture and describe the lifecycle of each component (not a small task).", "markup": "markdown", "html": "<p>I just added a document about object lifecycle and ownership based on a discussion I had with @wjwwood </p>\n<p>I'm planning to try to draw a diagram of Gazebo's architecture and describe the lifecycle of each component (not a small task).</p>", "type": "rendered"}, "created_on": "2016-04-11T23:12:13.580382+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-04-11T23:12:13.585657+00:00", "type": "pullrequest_comment", "id": 17074612}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30/comments/17075200.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_design/diff/osrf/gazebo_design:a949626c3af0..f864f029fdd1?path=smart_pointers%2Flifecycle_ownership.md"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30/_/diff#comment-17075200"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30"}}, "title": "Smart pointers in Gazebo (physics::World case)"}, "content": {"raw": "How about the world having a `shared_ptr` to all its models, and whoever else wants a pointer to the model can hold a `weak_ptr`. When other resources want to use the model, they lock it, knowing that it won't be deleted while it's being used. \n\nWhen the model is to be deleted, since the world is the one responsible for a model's lifetime, it starts model deletion and resets the shared pointer it holds. If there is no one holding weak pointers to the model, the object is automatically deleted. If someone is holding a weak pointer, the object is deleted immediately after that is unlocked.", "markup": "markdown", "html": "<p>How about the world having a <code>shared_ptr</code> to all its models, and whoever else wants a pointer to the model can hold a <code>weak_ptr</code>. When other resources want to use the model, they lock it, knowing that it won't be deleted while it's being used. </p>\n<p>When the model is to be deleted, since the world is the one responsible for a model's lifetime, it starts model deletion and resets the shared pointer it holds. If there is no one holding weak pointers to the model, the object is automatically deleted. If someone is holding a weak pointer, the object is deleted immediately after that is unlocked.</p>", "type": "rendered"}, "created_on": "2016-04-11T23:22:03.040463+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 52, "from": null, "path": "smart_pointers/lifecycle_ownership.md"}, "updated_on": "2016-04-11T23:22:03.045080+00:00", "type": "pullrequest_comment", "id": 17075200}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30/comments/17266127.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30/_/diff#comment-17266127"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/osrf/gazebo_design/pullrequests/30.json"}, "html": {"href": "#!/osrf/gazebo_design/pull-requests/30"}}, "title": "Smart pointers in Gazebo (physics::World case)"}, "content": {"raw": "While the conversation is still going on here, there have been a few PRs to Gazebo:\n\n| Pull request | Description | Approach | Status |\n| --------------- | -------------- | ------------ | --------- |\n| [2220](https://bitbucket.org/osrf/gazebo/pull-requests/2220) | Clean up world and physics engine pointers for a world without entities. Also make sure publishers, subscribers and topics for that world are gone. | \"Destructors -> Fini\" trick | merged into `gazebo7` and forward to `default` |\n| [2257](https://bitbucket.org/osrf/gazebo/pull-requests/2257) | Refactor memory management for `Wind` and `Atmosphere`. | `World` keeps `unique_ptr` of `Wind` and `Atmosphere`, shares their raw pointers. `Wind` and `Atmosphere` keep raw pointer to `World`.  | merged into `default` |\n| [2263](https://bitbucket.org/osrf/gazebo/pull-requests/2263) | Clean up model, link and light pointers. | \"Destructors -> Fini\" trick | merged into `gazebo7` and forward to `default` |\n\n", "markup": "markdown", "html": "<p>While the conversation is still going on here, there have been a few PRs to Gazebo:</p>\n<table>\n<thead>\n<tr>\n<th>Pull request</th>\n<th>Description</th>\n<th>Approach</th>\n<th>Status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-requests/2220\" rel=\"nofollow\">2220</a></td>\n<td>Clean up world and physics engine pointers for a world without entities. Also make sure publishers, subscribers and topics for that world are gone.</td>\n<td>\"Destructors -&gt; Fini\" trick</td>\n<td>merged into <code>gazebo7</code> and forward to <code>default</code></td>\n</tr>\n<tr>\n<td><a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-requests/2257\" rel=\"nofollow\">2257</a></td>\n<td>Refactor memory management for <code>Wind</code> and <code>Atmosphere</code>.</td>\n<td><code>World</code> keeps <code>unique_ptr</code> of <code>Wind</code> and <code>Atmosphere</code>, shares their raw pointers. <code>Wind</code> and <code>Atmosphere</code> keep raw pointer to <code>World</code>.</td>\n<td>merged into <code>default</code></td>\n</tr>\n<tr>\n<td><a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-requests/2263\" rel=\"nofollow\">2263</a></td>\n<td>Clean up model, link and light pointers.</td>\n<td>\"Destructors -&gt; Fini\" trick</td>\n<td>merged into <code>gazebo7</code> and forward to <code>default</code></td>\n</tr>\n</tbody>\n</table>", "type": "rendered"}, "created_on": "2016-04-14T20:30:48.393492+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2016-04-26T21:34:07.825177+00:00", "type": "pullrequest_comment", "id": 17266127}], "page": 1, "size": 4}